@BillingApiTres_HostAddress = https://localhost:7127
@authToken = bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ2S1Rwc3pCMjdfMzROejBpaW9BQm5ZT25SMndsbW1sVjRDeXVfOWtEdy1nIn0.eyJleHAiOjE3Mzk4NTc1OTIsImlhdCI6MTczOTc3MTE5MiwianRpIjoiMWZiOGRkY2QtNGNmNi00ZDE3LTg3MjUtMThlZjc1YWM1NzNkIiwiaXNzIjoiaHR0cHM6Ly9kZXYta2MtYWd3LmFobmxhYmNsb3VkbWF0ZS5jb20vcmVhbG1zL0lBTSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJkNmZiOGM2My04YzMwLTQwOTEtODRkNC1iYjJiMDgxZDI3YzMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJpYW0iLCJzaWQiOiJlYTk1NThkYi0xMDBlLTRkNDgtYTk2ZS00NTZjYmNlM2Q4MDEiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMtaWFtIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoi44WO44WF44WOIiwicHJlZmVycmVkX3VzZXJuYW1lIjoic2FuZ2h1bi5oYW5AYWhubGFiY2xvdWRtYXRlLmNvbSIsImdpdmVuX25hbWUiOiLjhY7jhYXjhY4iLCJmYW1pbHlfbmFtZSI6IiIsImVtYWlsIjoic2FuZ2h1bi5oYW5AYWhubGFiY2xvdWRtYXRlLmNvbSJ9.P2_ihhQnyHEpqFTP9UeSfB4Q5O1sxiNLe-vDSJeBbHEncAOJ2AikvgZt0RV8qnzjg_QerM-iZZDpbEvKC-fwNNYxI3_ACJCY9MAgA0S1ggdfXsUQvBN_40f8zdMEXcpooFYXNjONdAgru6-337AtlvYb2PfYc30VUtTCoVUouLoIuT4fSmYYo05ovk9f68cttL4nHLNXiBaWQz-doGI6kbprMDfW9kWz62dVEoUVNc8WlkAzxJtAcdIA4hEx1o5E8gUtvbQr-pkQkYsn3osbkp06k4Hhh8e2SJaK5A6ZBdNTa8MwHeF7afxMnfC6mVBj8sWua_D1jTZlc4wHltjzAw

GET {{BillingApiTres_HostAddress}}/weatherforecast/
Accept: application/json

###

GET {{BillingApiTres_HostAddress}}/accountUsers?accountId=1
X-Account: 1
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

###

PUT {{BillingApiTres_HostAddress}}/bills
Content-Type: application/json
X-Account: 1
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

{
  "statusCode": "BST-EXT",
  "billIds" : [634, 635, 636]
}

###

PUT {{BillingApiTres_HostAddress}}/bills
Content-Type: application/json
X-Account: 1
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

{
  "statusCode": "BST-001",
  "billIds" : [634, 635, 636]
}

###

#일단위 사용량 조회 (월 중간 부터)
GET {{BillingApiTres_HostAddress}}/usages?usageUnit=daily&accountIds=11214&from=2024-12-03+05%3A00%3A00&to=2024-12-05+17%3A59%3A59
X-Account: 1,11214
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

###

#일단위 사용량 조회 (월초 부터)
GET {{BillingApiTres_HostAddress}}/usages?usageUnit=daily&accountIds=11214&from=2024-12-01+13%3A00%3A00&to=2024-12-03+03%3A59%3A59
X-Account: 1,11214
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

###

#월단위 사용량 조회
GET {{BillingApiTres_HostAddress}}/usages?usageUnit=monthly&accountIds=11214&from=2024-11-08+07%3A00%3A00&to=2024-12-01+15%3A59%3A59
X-Account: 1,11214
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

###

# 고객 청구서 생성
POST {{BillingApiTres_HostAddress}}/bills/customer
Content-Type: application/json
X-Account: 1,11214
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

{
  "billIds" : [1760, 1774, 1945, 1781, 1784, 1785, 1808, 1838, 2050]
}

###

# 청구서 조회
GET {{BillingApiTres_HostAddress}}/bills?from=2022-10-10&to=2025-10-10&AccountIds=1
X-Account: 1,11214,11343
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

###

# 고객사 추가 - 고객 계층 추가 오류 발생 케이스 (중복 또는 순환 관계)
POST {{BillingApiTres_HostAddress}}/service-organizations
Content-Type: application/json
X-Account: 1,11156,99999,11157,6
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

{
  "tenantId": "string",
  "contractorId": 6,
  "contracteeId": 1,
  "isActive": true,
  "contractDate": "2025-01-14T08:05:13.830Z",
  "expireDate": "2025-01-14T08:05:13.830Z",
  "type": "string"
}

###

# 청구서 삭제
# 2191, 2214, 2215 - 200
# 2135, 2138 - 400
# 2142, 2143 - 422
DELETE {{BillingApiTres_HostAddress}}/bills
Content-Type: application/json
X-Account: 1,11272,11157
authorization: {{authToken}}
X-TimeZone : Asia/Seoul

{
  "billIds": [
    2191, 2214, 2215,
    2135, 2138, 
    2142, 2143
  ]
}
###
